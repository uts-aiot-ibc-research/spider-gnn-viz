(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79474,(e,t,n)=>{"use strict";var r=e.r(71645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;n.c=function(e){return r.H.useMemoCache(e)}},932,(e,t,n)=>{"use strict";t.exports=e.r(79474)},59935,(e,t,n)=>{var r;let i;e.e,r=function e(){var t,n="u">typeof self?self:"u">typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,a={},s=0,o={};function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new d(t),(this._handle.streamer=this)._config=t}).call(this,e),this.parseChunk=function(e,t){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let t=this._config.newline;t||(a=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,a)),e=[...e.split(t).slice(r)].join(t)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&void 0!==(a=this._config.beforeFirstChunk(e))&&(e=a),this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e,a=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=a.meta.cursor,this._finished||(this._partialLine=r.substring(e-this._baseIndex),this._baseIndex=e),a&&a.data&&(this._rowCount+=a.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,i)n.postMessage({results:a,workerId:o.WORKER_ID,finished:r});else if(_(this._config.chunk)&&!t){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=a=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!r||!_(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){_(this._config.error)?this._config.error(e):i&&this._config.error&&n.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),l.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=v(this._chunkLoaded,this),t.onerror=v(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e,n,i=this._config.downloadRequestHeaders;for(n in i)t.setRequestHeader(n,i[n])}this._config.chunkSize&&(e=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+e));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){let e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null!==(e=(e=t).getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(Error(e))}}function c(e){(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),l.call(this,e);var t,n,r="u">typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=v(this._chunkLoaded,this),t.onerror=v(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,i=(this._config.chunkSize&&(i=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,i)),t.readAsText(e,this._config.encoding));r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function f(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return t=(e=this._config.chunkSize)?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function h(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=v(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=v(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=v(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=v(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function d(e){var t,n,r,i,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,s=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,l=this,u=0,c=0,f=!1,h=!1,d=[],m={data:[],errors:[],meta:{}};function x(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function y(){if(m&&r&&(w("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(m.data=m.data.filter(function(e){return!x(e)})),v()){if(m)if(Array.isArray(m.data[0])){for(var t,n=0;v()&&n<m.data.length;n++)m.data[n].forEach(i);m.data.splice(0,1)}else m.data.forEach(i);function i(t,n){_(e.transformHeader)&&(t=e.transformHeader(t,n)),d.push(t)}}function l(t,n){for(var r=e.header?{}:[],i=0;i<t.length;i++){var o=i,l=t[i],l=((t,n)=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping))?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(a.test(e)&&-0x20000000000000<(e=parseFloat(e))&&e<0x20000000000000)return 1})(n)?parseFloat(n):s.test(n)?new Date(n):""===n?null:n):n)(o=e.header?i>=d.length?"__parsed_extra":d[i]:o,l=e.transform?e.transform(l,o):l);"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(l)):r[o]=l}return e.header&&(i>d.length?w("FieldMismatch","TooManyFields","Too many fields: expected "+d.length+" fields but parsed "+i,c+n):i<d.length&&w("FieldMismatch","TooFewFields","Too few fields: expected "+d.length+" fields but parsed "+i,c+n)),r}m&&(e.header||e.dynamicTyping||e.transform)&&(t=1,!m.data.length||Array.isArray(m.data[0])?(m.data=m.data.map(l),t=m.data.length):m.data=l(m.data,0),e.header&&m.meta&&(m.meta.fields=d),c+=t)}function v(){return e.header&&0===d.length}function w(e,t,n,r){e={type:e,code:t,message:n},void 0!==r&&(e.row=r),m.errors.push(e)}_(e.step)&&(i=e.step,e.step=function(t){m=t,v()?y():(y(),0!==m.data.length&&(u+=t.data.length,e.preview&&u>e.preview?n.abort():(m.data=m.data[0],i(m,l))))}),this.parse=function(i,a,s){var l=e.quoteChar||'"',l=(e.newline||(e.newline=this.guessLineEndings(i,l)),r=!1,e.delimiter?_(e.delimiter)&&(e.delimiter=e.delimiter(i),m.meta.delimiter=e.delimiter):((l=((t,n,r,i,a)=>{var s,l,u,c;a=a||[",","	","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var f=0;f<a.length;f++){for(var h,d=a[f],p=0,m=0,y=0,b=(u=void 0,new g({comments:i,delimiter:d,newline:n,preview:10}).parse(t)),v=0;v<b.data.length;v++)r&&x(b.data[v])?y++:(m+=h=b.data[v].length,void 0===u?u=h:0<h&&(p+=Math.abs(h-u),u=h));0<b.data.length&&(m/=b.data.length-y),(void 0===l||p<=l)&&(void 0===c||c<m)&&1.99<m&&(l=p,s=d,c=m)}return{successful:!!(e.delimiter=s),bestDelimiter:s}})(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),m.meta.delimiter=e.delimiter),b(e));return e.preview&&e.header&&l.preview++,t=i,m=(n=new g(l)).parse(t,a,s),y(),f?{meta:{paused:!0}}:m||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),t=_(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){l.streamer._halted?(f=!1,l.streamer.parseChunk(t,!0)):setTimeout(l.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),m.meta.aborted=!0,_(e.complete)&&e.complete(m),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576);var t=RegExp(p(t)+"([^]*?)"+p(t),"gm"),n=(e=e.replace(t,"")).split("\r"),t=e.split("\n"),e=1<t.length&&t[0].length<n[0].length;if(1===n.length||e)return"\n";for(var r=0,i=0;i<n.length;i++)"\n"===n[i][0]&&r++;return r>=n.length/2?"\r\n":"\r"}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e){var t=(e=e||{}).delimiter,n=e.newline,r=e.comments,i=e.step,a=e.preview,s=e.fastMode,l=null,u=!1,c=null==e.quoteChar?'"':e.quoteChar,f=c;if(void 0!==e.escapeChar&&(f=e.escapeChar),("string"!=typeof t||-1<o.BAD_DELIMITERS.indexOf(t))&&(t=","),r===t)throw Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<o.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var h=0,d=!1;this.parse=function(o,g,m){if("string"!=typeof o)throw Error("Input must be a string");var x=o.length,y=t.length,b=n.length,v=r.length,w=_(i),k=[],N=[],E=[],M=h=0;if(!o)return D();if(s||!1!==s&&-1===o.indexOf(c)){for(var S=o.split(n),R=0;R<S.length;R++){if(E=S[R],h+=E.length,R!==S.length-1)h+=n.length;else if(m)break;if(!r||E.substring(0,v)!==r){if(w){if(k=[],F(E.split(t)),P(),d)return D()}else F(E.split(t));if(a&&a<=R)return k=k.slice(0,a),D(!0)}}return D()}for(var j=o.indexOf(t,h),C=o.indexOf(n,h),$=RegExp(p(f)+p(c),"g"),A=o.indexOf(c,h);;)if(o[h]===c)for(A=h,h++;;){if(-1===(A=o.indexOf(c,A+1)))return m||N.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:k.length,index:h}),I();if(A===x-1)return I(o.substring(h,A).replace($,c));if(c===f&&o[A+1]===f)A++;else if(c===f||0===A||o[A-1]!==f){-1!==j&&j<A+1&&(j=o.indexOf(t,A+1));var O=T(-1===(C=-1!==C&&C<A+1?o.indexOf(n,A+1):C)?j:Math.min(j,C));if(o.substr(A+1+O,y)===t){E.push(o.substring(h,A).replace($,c)),o[h=A+1+O+y]!==c&&(A=o.indexOf(c,h)),j=o.indexOf(t,h),C=o.indexOf(n,h);break}if(O=T(C),o.substring(A+1+O,A+1+O+b)===n){if(E.push(o.substring(h,A).replace($,c)),L(A+1+O+b),j=o.indexOf(t,h),A=o.indexOf(c,h),w&&(P(),d))return D();if(a&&k.length>=a)return D(!0);break}N.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:k.length,index:h}),A++}}else if(r&&0===E.length&&o.substring(h,h+v)===r){if(-1===C)return D();h=C+b,C=o.indexOf(n,h),j=o.indexOf(t,h)}else if(-1!==j&&(j<C||-1===C))E.push(o.substring(h,j)),h=j+y,j=o.indexOf(t,h);else{if(-1===C)break;if(E.push(o.substring(h,C)),L(C+b),w&&(P(),d))return D();if(a&&k.length>=a)return D(!0)}return I();function F(e){k.push(e),M=h}function T(e){return -1!==e&&(e=o.substring(A+1,e))&&""===e.trim()?e.length:0}function I(e){return m||(void 0===e&&(e=o.substring(h)),E.push(e),h=x,F(E),w&&P()),D()}function L(e){h=e,F(E),E=[],C=o.indexOf(n,h)}function D(r){if(e.header&&!g&&k.length&&!u){var i=k[0],a=Object.create(null),s=new Set(i);let t=!1;for(let n=0;n<i.length;n++){let r=i[n];if(a[r=_(e.transformHeader)?e.transformHeader(r,n):r]){let e,o=a[r];for(;e=r+"_"+o,o++,s.has(e););s.add(e),i[n]=e,a[r]++,t=!0,(l=null===l?{}:l)[e]=r}else a[r]=1,i[n]=r;s.add(r)}t&&console.warn("Duplicate headers found and renamed."),u=!0}return{data:k,errors:N,meta:{delimiter:t,linebreak:n,aborted:d,truncated:!!r,cursor:M+(g||0),renamedHeaders:l}}}function P(){i(D()),k=[],N=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return h}}function m(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,x(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(_(n.userStep)){for(var s=0;s<t.results.data.length&&(n.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},i),!r);s++);delete t.results}else _(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&x(t.workerId,t.results)}function x(e,t){var n=a[e];_(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function y(){throw Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=b(e[t]);return n}function v(e,t){return function(){e.apply(t,arguments)}}function _(e){return"function"==typeof e}return o.parse=function(t,r){var i,l,d,p=(r=r||{}).dynamicTyping||!1;if(_(p)&&(r.dynamicTypingFunction=p,p={}),r.dynamicTyping=p,r.transform=!!_(r.transform)&&r.transform,!r.worker||!o.WORKERS_SUPPORTED){let e;return p=null,o.NODE_STREAM_INPUT,"string"==typeof t?(t=65279!==(e=t).charCodeAt(0)?e:e.slice(1),p=new(r.download?u:f)(r)):!0===t.readable&&_(t.read)&&_(t.on)?p=new h(r):(n.File&&t instanceof File||t instanceof Object)&&(p=new c(r)),p.stream(t)}(p=!!o.WORKERS_SUPPORTED&&(l=n.URL||n.webkitURL||null,d=e.toString(),i=o.BLOB_URL||(o.BLOB_URL=l.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",d,")();"],{type:"text/javascript"}))),(i=new n.Worker(i)).onmessage=m,i.id=s++,a[i.id]=i)).userStep=r.step,p.userChunk=r.chunk,p.userComplete=r.complete,p.userError=r.error,r.step=_(r.step),r.chunk=_(r.chunk),r.complete=_(r.complete),r.error=_(r.error),delete r.worker,p.postMessage({input:t,config:r,workerId:p.id})},o.unparse=function(e,t){var n=!1,r=!0,i=",",a="\r\n",s='"',l=s+s,u=!1,c=null,f=!1,h=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter(function(e){return -1!==t.delimiter.indexOf(e)}).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+s),t.escapeFormulae instanceof RegExp?f=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(f=/^[=+\-@\t\r].*$/)}})(),RegExp(p(s),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return d(null,e,u);if("object"==typeof e[0])return d(c||Object.keys(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||c),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),d(e.fields||[],e.data||[],u);throw Error("Unable to serialize unrecognized input");function d(e,t,n){var s="",o=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),l=!Array.isArray(t[0]);if(o&&r){for(var u=0;u<e.length;u++)0<u&&(s+=i),s+=g(e[u],u);0<t.length&&(s+=a)}for(var c=0;c<t.length;c++){var f=(o?e:t[c]).length,h=!1,d=o?0===Object.keys(t[c]).length:0===t[c].length;if(n&&!o&&(h="greedy"===n?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===n&&o){for(var p=[],m=0;m<f;m++){var x=l?e[m]:m;p.push(t[c][x])}h=""===p.join("").trim()}if(!h){for(var y=0;y<f;y++){0<y&&!d&&(s+=i);var b=o&&l?e[y]:y;s+=g(t[c][b],y)}c<t.length-1&&(!n||0<f&&!d)&&(s+=a)}}return s}function g(e,t){var r,a;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(a=!1,f&&"string"==typeof e&&f.test(e)&&(e="'"+e,a=!0),r=e.toString().replace(h,l),(a=a||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(r,o.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?s+r+s:r)}},o.RECORD_SEP="\x1e",o.UNIT_SEP="\x1f",o.BYTE_ORDER_MARK="\uFEFF",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!r&&!!n.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=0xa00000,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=g,o.ParserHandle=d,o.NetworkStreamer=u,o.FileStreamer=c,o.StringStreamer=f,o.ReadableStreamStreamer=h,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var r=e.config||{},i=[];return this.each(function(e){if(!("INPUT"===t(this).prop("tagName").toUpperCase()&&"file"===t(this).attr("type").toLowerCase()&&n.FileReader)||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)i.push({file:this.files[a],inputElem:this,instanceConfig:t.extend({},r)})}),a(),this;function a(){if(0===i.length)_(e.complete)&&e.complete();else{var n,r,a,l=i[0];if(_(e.before)){var u=e.before(l.file,l.inputElem);if("object"==typeof u){if("abort"===u.action)return n=l.file,r=l.inputElem,a=u.reason,void(_(e.error)&&e.error({name:"AbortError"},n,r,a));if("skip"===u.action)return void s();"object"==typeof u.config&&(l.instanceConfig=t.extend(l.instanceConfig,u.config))}else if("skip"===u)return void s()}var c=l.instanceConfig.complete;l.instanceConfig.complete=function(e){_(c)&&c(e,l.file,l.inputElem),s()},o.parse(l.file,l.instanceConfig)}}function s(){i.splice(0,1),a()}}),i&&(n.onmessage=function(e){e=e.data,void 0===o.WORKER_ID&&e&&(o.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:o.WORKER_ID,results:o.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=o.parse(e.input,e.config))&&n.postMessage({workerId:o.WORKER_ID,results:e,finished:!0})}),(u.prototype=Object.create(l.prototype)).constructor=u,(c.prototype=Object.create(l.prototype)).constructor=c,(f.prototype=Object.create(f.prototype)).constructor=f,(h.prototype=Object.create(l.prototype)).constructor=h,o},"function"==typeof define&&define.amd?void 0!==(i=r())&&e.v(i):t.exports=r()},16021,e=>{"use strict";let t,n,r,i;var a=e.i(43476),s=e.i(932),o=e.i(71645);let l=Math.sqrt(50),u=Math.sqrt(10),c=Math.sqrt(2);function f(e,t,n){let r,i,a,s=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(s)),h=s/Math.pow(10,o),d=h>=l?10:h>=u?5:h>=c?2:1;return(o<0?(r=Math.round(e*(a=Math.pow(10,-o)/d)),i=Math.round(t*a),r/a<e&&++r,i/a>t&&--i,a=-a):(r=Math.round(e/(a=Math.pow(10,o)*d)),i=Math.round(t/a),r*a<e&&++r,i*a>t&&--i),i<r&&.5<=n&&n<2)?f(e,t,2*n):[r,i,a]}function h(e,t,n){if(t*=1,e*=1,!((n*=1)>0))return[];if(e===t)return[e];let r=t<e,[i,a,s]=r?f(t,e,n):f(e,t,n);if(!(a>=i))return[];let o=a-i+1,l=Array(o);if(r)if(s<0)for(let e=0;e<o;++e)l[e]=-((a-e)/s);else for(let e=0;e<o;++e)l[e]=(a-e)*s;else if(s<0)for(let e=0;e<o;++e)l[e]=-((i+e)/s);else for(let e=0;e<o;++e)l[e]=(i+e)*s;return l}function d(e,t,n){return f(e*=1,t*=1,n*=1)[2]}function p(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function g(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function m(e){let t,n,r;function i(e,r,a=0,s=e.length){if(a<s){if(0!==t(r,r))return s;do{let t=a+s>>>1;0>n(e[t],r)?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=p,n=(t,n)=>p(e(t),n),r=(t,n)=>e(t)-n):(t=e===p||e===g?e:x,n=e,r=e),{left:i,center:function(e,t,n=0,a=e.length){let s=i(e,t,n,a-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{let t=i+a>>>1;0>=n(e[t],r)?i=t+1:a=t}while(i<a)}return i}}}function x(){return 0}let y=m(p),b=y.right;function v(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function w(){}y.left,m(function(e){return null===e?NaN:+e}).center;var k="\\s*([+-]?\\d+)\\s*",N="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",E="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",M=/^#([0-9a-f]{3,8})$/,S=RegExp(`^rgb\\(${k},${k},${k}\\)$`),R=RegExp(`^rgb\\(${E},${E},${E}\\)$`),j=RegExp(`^rgba\\(${k},${k},${k},${N}\\)$`),C=RegExp(`^rgba\\(${E},${E},${E},${N}\\)$`),$=RegExp(`^hsl\\(${N},${E},${E}\\)$`),A=RegExp(`^hsla\\(${N},${E},${E},${N}\\)$`),O={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function F(){return this.rgb().formatHex()}function T(){return this.rgb().formatRgb()}function I(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=M.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?L(t):3===n?new z(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?D(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?D(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=S.exec(e))?new z(t[1],t[2],t[3],1):(t=R.exec(e))?new z(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=j.exec(e))?D(t[1],t[2],t[3],t[4]):(t=C.exec(e))?D(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=$.exec(e))?K(t[1],t[2]/100,t[3]/100,1):(t=A.exec(e))?K(t[1],t[2]/100,t[3]/100,t[4]):O.hasOwnProperty(e)?L(O[e]):"transparent"===e?new z(NaN,NaN,NaN,0):null}function L(e){return new z(e>>16&255,e>>8&255,255&e,1)}function D(e,t,n,r){return r<=0&&(e=t=n=NaN),new z(e,t,n,r)}function P(e,t,n,r){var i;return 1==arguments.length?((i=e)instanceof w||(i=I(i)),i)?new z((i=i.rgb()).r,i.g,i.b,i.opacity):new z:new z(e,t,n,null==r?1:r)}function z(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function q(){return`#${W(this.r)}${W(this.g)}${W(this.b)}`}function U(){let e=B(this.opacity);return`${1===e?"rgb(":"rgba("}${H(this.r)}, ${H(this.g)}, ${H(this.b)}${1===e?")":`, ${e})`}`}function B(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function H(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function W(e){return((e=H(e))<16?"0":"")+e.toString(16)}function K(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new G(e,t,n,r)}function Y(e){if(e instanceof G)return new G(e.h,e.s,e.l,e.opacity);if(e instanceof w||(e=I(e)),!e)return new G;if(e instanceof G)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(s=t===a?(n-r)/o+(n<r)*6:n===a?(r-t)/o+2:(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new G(s,o,l,e.opacity)}function G(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Q(e){return(e=(e||0)%360)<0?e+360:e}function X(e){return Math.max(0,Math.min(1,e||0))}function V(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function Z(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}v(w,I,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:F,formatHex:F,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Y(this).formatHsl()},formatRgb:T,toString:T}),v(z,P,_(w,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new z(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new z(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new z(H(this.r),H(this.g),H(this.b),B(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:q,formatHex:q,formatHex8:function(){return`#${W(this.r)}${W(this.g)}${W(this.b)}${W((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:U,toString:U})),v(G,function(e,t,n,r){return 1==arguments.length?Y(e):new G(e,t,n,null==r?1:r)},_(w,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new G(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new G(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new z(V(e>=240?e-240:e+120,i,r),V(e,i,r),V(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new G(Q(this.h),X(this.s),X(this.l),B(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=B(this.opacity);return`${1===e?"hsl(":"hsla("}${Q(this.h)}, ${100*X(this.s)}%, ${100*X(this.l)}%${1===e?")":`, ${e})`}`}}));let J=e=>()=>e;function ee(e,t){var n=t-e;return n?function(t){return e+t*n}:J(isNaN(e)?t:e)}let et=function e(t){var n,r=1==(n=+t)?ee:function(e,t){var r,i,a;return t-e?(r=e,i=t,r=Math.pow(r,a=n),i=Math.pow(i,a)-r,a=1/a,function(e){return Math.pow(r+e*i,a)}):J(isNaN(e)?t:e)};function i(e,t){var n=r((e=P(e)).r,(t=P(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),s=ee(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return i.gamma=e,i}(1);function en(e){return function(t){var n,r,i=t.length,a=Array(i),s=Array(i),o=Array(i);for(n=0;n<i;++n)r=P(t[n]),a[n]=r.r||0,s[n]=r.g||0,o[n]=r.b||0;return a=e(a),s=e(s),o=e(o),r.opacity=1,function(e){return r.r=a(e),r.g=s(e),r.b=o(e),r+""}}}function er(e,t){return e*=1,t*=1,function(n){return e*(1-n)+t*n}}en(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return Z((n-r/t)*t,s,i,a,o)}}),en(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],o=e[(r+2)%t];return Z((n-r/t)*t,i,a,s,o)}});var ei=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ea=RegExp(ei.source,"g");function es(e,t){return e*=1,t*=1,function(n){return Math.round(e*(1-n)+t*n)}}function eo(e){return+e}var el=[0,1];function eu(e){return e}function ec(e,t){var n;return(t-=e*=1)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n})}function ef(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=ec(i,r),a=n(s,a)):(r=ec(r,i),a=n(a,s)),function(e){return a(r(e))}}function eh(e,t,n){var r=Math.min(e.length,t.length)-1,i=Array(r),a=Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=ec(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=b(e,t,1,r)-1;return a[n](i[n](t))}}function ed(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function ep(e,t){if(!isFinite(e)||0===e)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function eg(e){return(e=ep(Math.abs(e)))?e[1]:NaN}var em=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ex(e){var t;if(!(t=em.exec(e)))throw Error("invalid format: "+e);return new ey({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ey(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function eb(e,t){var n=ep(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+Array(i-r.length+2).join("0")}ex.prototype=ey.prototype,ey.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let ev={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eb(100*e,t),r:eb,s:function(e,t){var n=ep(e,t);if(!n)return eY=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(eY=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return a===s?r:a>s?r+Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+Array(1-a).join("0")+ep(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function e_(e){return e}var ew=Array.prototype.map,ek=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function eN(){var e,t=(function(){var e,t,n,r,i,a,s=el,o=el,l=function e(t,n){var r,i,a=typeof n;return null==n||"boolean"===a?J(n):("number"===a?er:"string"===a?(i=I(n))?(n=i,et):function(e,t){var n,r,i,a,s,o=ei.lastIndex=ea.lastIndex=0,l=-1,u=[],c=[];for(e+="",t+="";(i=ei.exec(e))&&(a=ea.exec(t));)(s=a.index)>o&&(s=t.slice(o,s),u[l]?u[l]+=s:u[++l]=s),(i=i[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,c.push({i:l,x:er(i,a)})),o=ea.lastIndex;return o<t.length&&(s=t.slice(o),u[l]?u[l]+=s:u[++l]=s),u.length<2?c[0]?(n=c[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=c.length,function(e){for(var n,r=0;r<t;++r)u[(n=c[r]).i]=n.x(e);return u.join("")})}:n instanceof I?et:n instanceof Date?function(e,t){var n=new Date;return e*=1,t*=1,function(r){return n.setTime(e*(1-r)+t*r),n}}:!ArrayBuffer.isView(r=n)||r instanceof DataView?Array.isArray(n)?function(t,n){var r,i=n?n.length:0,a=t?Math.min(i,t.length):0,s=Array(a),o=Array(i);for(r=0;r<a;++r)s[r]=e(t[r],n[r]);for(;r<i;++r)o[r]=n[r];return function(e){for(r=0;r<a;++r)o[r]=s[r](e);return o}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var r,i={},a={};for(r in(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={}),n)r in t?i[r]=e(t[r],n[r]):a[r]=n[r];return function(e){for(r in i)a[r]=i[r](e);return a}}:er:function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}})(t,n)},u=eu;function c(){var e,t,n,l=Math.min(s.length,o.length);return u!==eu&&(e=s[0],t=s[l-1],e>t&&(n=e,e=t,t=n),u=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?eh:ef,i=a=null,f}function f(t){return null==t||isNaN(t*=1)?n:(i||(i=r(s.map(e),o,l)))(e(u(t)))}return f.invert=function(n){return u(t((a||(a=r(o,s.map(e),er)))(n)))},f.domain=function(e){return arguments.length?(s=Array.from(e,eo),c()):s.slice()},f.range=function(e){return arguments.length?(o=Array.from(e),c()):o.slice()},f.rangeRound=function(e){return o=Array.from(e),l=es,c()},f.clamp=function(e){return arguments.length?(u=!!e||eu,c()):u!==eu},f.interpolate=function(e){return arguments.length?(l=e,c()):l},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}})()(eu,eu);return t.copy=function(){return eN().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())},ed.apply(t,arguments),e=t.domain,t.ticks=function(t){var n=e();return h(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(e,t,n,r){let i,a;var s,o,l,u,c,f=(o=e,l=+t,o*=1,u=+n,a=(i=l<o)?d(l,o,u):d(o,l,u),(i?-1:1)*(a<0?-(1/a):a));switch((r=ex(null==r?",f":r)).type){case"s":var h=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(c=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(eg(h)/3)))-eg(Math.abs(f))))||(r.precision=c),eX(r,h);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(c=Math.max(0,eg(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(s=Math.abs(s=f)))-eg(s))+1)||(r.precision=c-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(c=Math.max(0,-eg(Math.abs(f))))||(r.precision=c-("%"===r.type)*2)}return eQ(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),s=0,o=a.length-1,l=a[s],u=a[o],c=10;for(u<l&&(i=l,l=u,u=i,i=s,s=o,o=i);c-- >0;){if((i=d(l,u,n))===r)return a[s]=l,a[o]=u,e(a);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else if(i<0)l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i;else break;r=i}return t},t}function eE(e){return Math.max(1,Math.ceil(Math.log(function(e,t){let n=0;for(let t of e)null!=t&&(t*=1)>=t&&++n;return n}(e))/Math.LN2)+1)}eQ=(eG=function(e){var t,n,r,i=void 0===e.grouping||void 0===e.thousands?e_:(t=ew.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(e.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?e_:(r=ew.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return r[+e]})}),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",f=void 0===e.nan?"NaN":e.nan+"";function h(e,t){var n=(e=ex(e)).fill,r=e.align,h=e.sign,d=e.symbol,p=e.zero,g=e.width,m=e.comma,x=e.precision,y=e.trim,b=e.type;"n"===b?(m=!0,b="g"):ev[b]||(void 0===x&&(x=12),y=!0,b="g"),(p||"0"===n&&"="===r)&&(p=!0,n="0",r="=");var v=(t&&void 0!==t.prefix?t.prefix:"")+("$"===d?a:"#"===d&&/[boxX]/.test(b)?"0"+b.toLowerCase():""),_=("$"===d?s:/[%p]/.test(b)?u:"")+(t&&void 0!==t.suffix?t.suffix:""),w=ev[b],k=/[defgprs%]/.test(b);function N(e){var t,a,s,u=v,d=_;if("c"===b)d=w(e)+d,e="";else{var N=(e*=1)<0||1/e<0;if(e=isNaN(e)?f:w(Math.abs(e),x),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),N&&0==+e&&"+"!==h&&(N=!1),u=(N?"("===h?h:c:"-"===h||"("===h?"":h)+u,d=("s"!==b||isNaN(e)||void 0===eY?"":ek[8+eY/3])+d+(N&&"("===h?")":""),k){for(t=-1,a=e.length;++t<a;)if(48>(s=e.charCodeAt(t))||s>57){d=(46===s?o+e.slice(t+1):e.slice(t))+d,e=e.slice(0,t);break}}}m&&!p&&(e=i(e,1/0));var E=u.length+e.length+d.length,M=E<g?Array(g-E+1).join(n):"";switch(m&&p&&(e=i(M+e,M.length?g-d.length:1/0),M=""),r){case"<":e=u+e+d+M;break;case"=":e=u+M+e+d;break;case"^":e=M.slice(0,E=M.length>>1)+u+e+d+M.slice(E);break;default:e=M+u+e+d}return l(e)}return x=void 0===x?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),N.toString=function(){return e+""},N}return{format:h,formatPrefix:function(e,t){var n=3*Math.max(-8,Math.min(8,Math.floor(eg(t)/3))),r=Math.pow(10,-n),i=h(((e=ex(e)).type="f",e),{suffix:ek[8+n/3]});return function(e){return i(r*e)}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,eX=eG.formatPrefix;var eM=Array.prototype.slice;function eS(e,t){return e-t}let eR=e=>()=>e;function ej(){}var eC=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function e$(e){return isFinite(e)?e:NaN}function eA(e,t){return null!=e&&+e>=t}function eO(e){return null==e||isNaN(e*=1)?-1/0:e}function eF(e,t,n,r){let i=r-t,a=n-t,s=isFinite(i)||isFinite(a)?i/a:Math.sign(i)/Math.sign(a);return isNaN(s)?e:e+s-.5}let eT=e=>e;function eI(e,t){e&&eD.hasOwnProperty(e.type)&&eD[e.type](e,t)}var eL={Feature:function(e,t){eI(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)eI(n[r].geometry,t)}},eD={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){eP(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)eP(n[r],t,0)},Polygon:function(e,t){ez(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ez(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)eI(n[r],t)}};function eP(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function ez(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)eP(e[n],t,1);t.polygonEnd()}function eq(e,t){e&&eL.hasOwnProperty(e.type)?eL[e.type](e,t):eI(e,t)}class eU{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let t=this._partials,n=0;for(let r=0;r<this._n&&r<32;r++){let i=t[r],a=e+i,s=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);s&&(t[n++]=s),e=a}return t[n]=e,this._n=n+1,this}valueOf(){let e=this._partials,t=this._n,n,r,i,a=0;if(t>0){for(a=e[--t];t>0&&(a=(n=a)+(r=e[--t]),!(i=r-(a-n))););t>0&&(i<0&&e[t-1]<0||i>0&&e[t-1]>0)&&(n=a+(r=2*i),r==n-a&&(a=n))}return a}}var eB=2*Math.PI,eH=Math.abs,eW=Math.sqrt;function eK(){}var eY,eG,eQ,eX,eV,eZ,eJ,e0,e1=new eU,e2=new eU,e5={point:eK,lineStart:eK,lineEnd:eK,polygonStart:function(){e5.lineStart=e4,e5.lineEnd=e8},polygonEnd:function(){e5.lineStart=e5.lineEnd=e5.point=eK,e1.add(eH(e2)),e2=new eU},result:function(){var e=e1/2;return e1=new eU,e}};function e4(){e5.point=e3}function e3(e,t){e5.point=e6,eV=eJ=e,eZ=e0=t}function e6(e,t){e2.add(e0*e-eJ*t),eJ=e,e0=t}function e8(){e6(eV,eZ)}var e9=1/0,e7=1/0,te=-1/0,tt=te;let tn={point:function(e,t){e<e9&&(e9=e),e>te&&(te=e),t<e7&&(e7=t),t>tt&&(tt=t)},lineStart:eK,lineEnd:eK,polygonStart:eK,polygonEnd:eK,result:function(){var e=[[e9,e7],[te,tt]];return te=tt=-(e7=e9=1/0),e}};var tr,ti,ta,ts,to=0,tl=0,tu=0,tc=0,tf=0,th=0,td=0,tp=0,tg=0,tm={point:tx,lineStart:ty,lineEnd:t_,polygonStart:function(){tm.lineStart=tw,tm.lineEnd=tk},polygonEnd:function(){tm.point=tx,tm.lineStart=ty,tm.lineEnd=t_},result:function(){var e=tg?[td/tg,tp/tg]:th?[tc/th,tf/th]:tu?[to/tu,tl/tu]:[NaN,NaN];return to=tl=tu=tc=tf=th=td=tp=tg=0,e}};function tx(e,t){to+=e,tl+=t,++tu}function ty(){tm.point=tb}function tb(e,t){tm.point=tv,tx(ta=e,ts=t)}function tv(e,t){var n=e-ta,r=t-ts,i=eW(n*n+r*r);tc+=i*(ta+e)/2,tf+=i*(ts+t)/2,th+=i,tx(ta=e,ts=t)}function t_(){tm.point=tx}function tw(){tm.point=tN}function tk(){tE(tr,ti)}function tN(e,t){tm.point=tE,tx(tr=ta=e,ti=ts=t)}function tE(e,t){var n=e-ta,r=t-ts,i=eW(n*n+r*r);tc+=i*(ta+e)/2,tf+=i*(ts+t)/2,th+=i,td+=(i=ts*e-ta*t)*(ta+e),tp+=i*(ts+t),tg+=3*i,tx(ta=e,ts=t)}function tM(e){this._context=e}tM.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,eB)}},result:eK};var tS,tR,tj,tC,t$,tA=new eU,tO={point:eK,lineStart:function(){tO.point=tF},lineEnd:function(){tS&&tT(tR,tj),tO.point=eK},polygonStart:function(){tS=!0},polygonEnd:function(){tS=null},result:function(){var e=+tA;return tA=new eU,e}};function tF(e,t){tO.point=tT,tR=tC=e,tj=t$=t}function tT(e,t){tC-=e,t$-=t,tA.add(eW(tC*tC+t$*t$)),tC=e,t$=t}class tI{constructor(e){this._append=null==e?tL:function(e){let r=Math.floor(e);if(!(r>=0))throw RangeError(`invalid digits: ${e}`);if(r>15)return tL;if(r!==t){let e=10**r;t=r,n=function(t){let n=1;this._+=t[0];for(let r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}return n}(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:this._append`M${e},${t}`,this._point=1;break;case 1:this._append`L${e},${t}`;break;default:if(this._append`M${e},${t}`,this._radius!==r||this._append!==n){let e=this._radius,t=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,r=e,n=this._append,i=this._,this._=t}this._+=i}}result(){let e=this._;return this._="",e.length?e:null}}function tL(e){let t=1;this._+=e[0];for(let n=e.length;t<n;++t)this._+=arguments[t]+e[t]}let tD="#FF0000",tP="#FFFF00",tz="#008800",tq={rssi:{name:"RSSI",unit:"dBm",bands:[{min:-110,max:-100,color:tD,label:"Poor"},{min:-100,max:-70,color:tP,label:"Fair"},{min:-70,max:-10,color:tz,label:"Good"}]},rsrp:{name:"RSRP",unit:"dBm",bands:[{min:-140,max:-100,color:tD,label:"Poor"},{min:-100,max:-70,color:tP,label:"Fair"},{min:-70,max:-40,color:tz,label:"Good"}]},rsrq:{name:"RSRQ",unit:"dB",bands:[{min:-30,max:-24,color:tD,label:"Poor"},{min:-24,max:-9,color:tP,label:"Fair"},{min:-9,max:0,color:tz,label:"Good"}]},snr:{name:"SNR",unit:"dB",bands:[{min:-40,max:0,color:tD,label:"Poor"},{min:0,max:8,color:tP,label:"Fair"},{min:8,max:30,color:tz,label:"Good"}]},cqi:{name:"CQI",unit:"",bands:[{min:0,max:5,color:tD,label:"Poor"},{min:5,max:10,color:tP,label:"Fair"},{min:10,max:15,color:tz,label:"Good"}]}};function tU({imageSrc:e,points:t,selectedFeature:n,scaleConfig:r,viewMode:i}){let s=(0,o.useRef)(null),[l,u]=(0,o.useState)({width:0,height:0}),c=e=>e[`${n}_int`],{min:f,max:p}=(0,o.useMemo)(()=>{if(0===t.length)return{min:0,max:1};let e=1/0,r=-1/0;return t.forEach(t=>{let n=c(t);n<e&&(e=n),n>r&&(r=n)}),(e===r||e===1/0)&&(e="cqi"===n?0:-110,r="cqi"===n?15:-60),{min:e,max:r}},[t,n]),g=(0,o.useMemo)(()=>(function(e){let t=tq[e];if(!t)return eN().domain([0,15]).range([tD,tz]).clamp(!0);let[n,r,i]=t.bands,a=(i.max-n.min)*.01;return eN().domain([n.min,n.max-a,n.max+a,r.max-a,r.max+a,i.max]).range([tD,tD,tP,tP,tz,tz]).clamp(!0)})(n),[n]),m=e=>({x:e.x*r.scale+r.offsetX,y:e.y*r.scale+r.offsetY}),x=(0,o.useMemo)(()=>{if("contour"!==i||0===l.width||0===t.length)return[];let e=l.width,n=l.height,r=Math.ceil(e/4),a=Math.ceil(n/4),s=t.map(e=>{let t=m(e);return{x:t.x,y:t.y,value:c(e)}}),o=Array(r*a);for(let e=0;e<a;e++)for(let t=0;t<r;t++){let n=4*t,i=4*e;o[e*r+t]=function(e,t,n,r=2){let i=0,a=0;for(let s of n){let n=Math.sqrt((e-s.x)**2+(t-s.y)**2);if(n<1e-4)return s.value;let o=1/Math.pow(n,r);i+=o*s.value,a+=o}return 0===a?0:i/a}(n,i,s,2)}let u=eN().domain([f,p]).ticks(10);return(function(){var e=1,t=1,n=eE,r=o;function i(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(eS);else{let n=function(e,t){let n,r;if(void 0===t)for(let t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let i=-1;for(let a of e)null!=(a=t(a,++i,e))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}(e,e$);for(t=h(...function(e,t,n){let r;for(;;){let i=d(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}(n[0],n[1],t),t);t[t.length-1]>=n[1];)t.pop();for(;t[1]<n[0];)t.shift()}return t.map(t=>a(e,t))}function a(n,i){let a=null==i?NaN:+i;if(isNaN(a))throw Error(`invalid value: ${i}`);var o=[],l=[];return function(n,r,i){var a,o,l,u,c,f,h=[],d=[];for(a=o=-1,eC[(u=eA(n[0],r))<<1].forEach(p);++a<e-1;)eC[(l=u)|(u=eA(n[a+1],r))<<1].forEach(p);for(eC[0|u].forEach(p);++o<t-1;){for(a=-1,eC[(u=eA(n[o*e+e],r))<<1|(c=eA(n[o*e],r))<<2].forEach(p);++a<e-1;)l=u,u=eA(n[o*e+e+a+1],r),f=c,eC[l|u<<1|(c=eA(n[o*e+a+1],r))<<2|f<<3].forEach(p);eC[u|c<<3].forEach(p)}for(a=-1,eC[(c=n[o*e]>=r)<<2].forEach(p);++a<e-1;)f=c,eC[(c=eA(n[o*e+a+1],r))<<2|f<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+a,e[0][1]+o],l=[e[1][0]+a,e[1][1]+o],u=s(r),c=s(l);(t=d[u])?(n=h[c])?(delete d[t.end],delete h[n.start],t===n?(t.ring.push(l),i(t.ring)):h[t.start]=d[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete d[t.end],t.ring.push(l),d[t.end=c]=t):(t=h[c])?(n=d[u])?(delete h[t.start],delete d[n.end],t===n?(t.ring.push(l),i(t.ring)):h[n.start]=d[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(r),h[t.start=u]=t):h[u]=d[c]={start:u,end:c,ring:[r,l]}}eC[c<<3].forEach(p)}(n,a,function(e){r(e,n,a),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):l.push(e)}),l.forEach(function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==function(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=function(e,t){for(var n=t[0],r=t[1],i=-1,a=0,s=e.length,o=s-1;a<s;o=a++){var l=e[a],u=l[0],c=l[1],f=e[o],h=f[0],d=f[1];if(function(e,t,n){var r,i,a,s,o,l,u;return i=e,a=t,s=n,(a[0]-i[0])*(s[1]-i[1])==(s[0]-i[0])*(a[1]-i[1])&&(o=e[r=+(e[0]===t[0])],l=n[r],u=t[r],o<=l&&l<=u||u<=l&&l<=o)}(l,f,t))return 0;c>r!=d>r&&n<(h-u)*(r-c)/(d-c)+u&&(i=-i)}return i}(e,t[r]))return n;return 0}((t=o[n])[0],e))return void t.push(e)}),{type:"MultiPolygon",value:i,coordinates:o}}function s(t){return 2*t[0]+t[1]*(e+1)*4}function o(n,r,i){n.forEach(function(n){var a=n[0],s=n[1],o=0|a,l=0|s,u=eO(r[l*e+o]);a>0&&a<e&&o===a&&(n[0]=eF(a,eO(r[l*e+o-1]),u,i)),s>0&&s<t&&l===s&&(n[1]=eF(s,eO(r[(l-1)*e+o]),u,i))})}return i.contour=a,i.size=function(n){if(!arguments.length)return[e,t];var r=Math.floor(n[0]),a=Math.floor(n[1]);if(!(r>=0&&a>=0))throw Error("invalid size");return e=r,t=a,i},i.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?eR(eM.call(e)):eR(e),i):n},i.smooth=function(e){return arguments.length?(r=e?o:ej,i):r===o},i})().size([r,a]).thresholds(u)(o).map(e=>({...e,coordinates:e.coordinates.map(e=>e.map(e=>e.map(([e,t])=>[4*e,4*t])))}))},[i,t,n,r,l,f,p]),y=function(e,t){let n=3,r=4.5,i,a;function s(e){return e&&("function"==typeof r&&a.pointRadius(+r.apply(this,arguments)),eq(e,i(a))),a.result()}return s.area=function(e){return eq(e,i(e5)),e5.result()},s.measure=function(e){return eq(e,i(tO)),tO.result()},s.bounds=function(e){return eq(e,i(tn)),tn.result()},s.centroid=function(e){return eq(e,i(tm)),tm.result()},s.projection=function(t){return arguments.length?(i=null==t?(e=null,eT):(e=t).stream,s):e},s.context=function(e){return arguments.length?(a=null==e?(t=null,new tI(n)):new tM(t=e),"function"!=typeof r&&a.pointRadius(r),s):t},s.pointRadius=function(e){return arguments.length?(r="function"==typeof e?e:(a.pointRadius(+e),+e),s):r},s.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{let t=Math.floor(e);if(!(t>=0))throw RangeError(`invalid digits: ${e}`);n=t}return null===t&&(a=new tI(n)),s},s.projection(e).digits(n).context(t)}();return(0,a.jsxs)("div",{ref:s,className:"relative inline-block border border-gray-300 shadow-sm overflow-hidden bg-white",children:[(0,a.jsx)("img",{src:e,alt:"Floorplan",className:"max-w-[1000px] w-full h-auto block select-none pointer-events-none",onLoad:e=>{let{naturalWidth:t,naturalHeight:n}=e.currentTarget;u({width:t,height:n})}}),"contour"===i&&l.width>0&&(0,a.jsx)("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",viewBox:`0 0 ${l.width} ${l.height}`,style:{opacity:.7},children:x.map((e,t)=>(0,a.jsx)("path",{d:y(e)||"",fill:g(e.value),stroke:g(e.value),strokeWidth:"0.5",strokeOpacity:"0.3"},t))}),"point"===i&&(0,a.jsx)("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",viewBox:l.width?`0 0 ${l.width} ${l.height}`:void 0,children:t.map((e,t)=>{let r=c(e),i=m(e);return(0,a.jsx)("circle",{cx:i.x,cy:i.y,r:4*!!l.width,fill:function(e,t){let n=tq[e];if(!n)return tz;let[r,i]=n.bands;return t<=r.max?r.color:t<=i.max?i.color:n.bands[2].color}(n,r),stroke:"#fff",strokeWidth:"1",className:"transition-all duration-300",children:(0,a.jsx)("title",{children:`${n.toUpperCase()}: ${r} (${e.x.toFixed(0)}, ${e.y.toFixed(0)})`})},t)})})]})}var tB=e.i(22016);let tH=(...e)=>e.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),tW=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var tK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let tY=(0,o.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},u)=>(0,o.createElement)("svg",{ref:u,...tK,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:tH("lucide",i),...!a&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(l)&&{"aria-hidden":"true"},...l},[...s.map(([e,t])=>(0,o.createElement)(e,t)),...Array.isArray(a)?a:[a]])),tG=(e,t)=>{let n=(0,o.forwardRef)(({className:n,...r},i)=>(0,o.createElement)(tY,{ref:i,iconNode:t,className:tH(`lucide-${tW(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r}));return n.displayName=tW(e),n},tQ=tG("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),tX=tG("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),tV=tG("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function tZ(e){let t,n,r,i,l,u,c,f,h,d=(0,s.c)(25),{selectedFeature:p,onSelectFeature:g,scaleConfig:m,onScaleConfigChange:x,viewMode:y,onViewModeChange:b}=e,[v,_]=(0,o.useState)(!1),[w,k]=(0,o.useState)(!1);d[0]!==x||d[1]!==m?(t=(e,t)=>{x({...m,[e]:t})},d[0]=x,d[1]=m,d[2]=t):t=d[2];let N=t;d[3]===Symbol.for("react.memo_cache_sentinel")?(n=[{key:"scale",label:"Scale",min:.1,max:2,step:.01},{key:"offsetX",label:"Offset X",min:-500,max:500,step:1},{key:"offsetY",label:"Offset Y",min:-500,max:500,step:1}],d[3]=n):n=d[3];let E=n;return d[4]!==v?(r=()=>_(!v),d[4]=v,d[5]=r):r=d[5],d[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)("h2",{className:"text-lg font-bold text-gray-900 whitespace-nowrap",children:"SpiderGNN Visualizer"}),d[6]=i):i=d[6],d[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(tB.default,{href:"/references",onClick:tJ,className:"p-1 rounded hover:bg-gray-200 transition-colors",children:(0,a.jsx)(tV,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),d[7]=l):l=d[7],d[8]!==v?(u=(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[l,v?(0,a.jsx)(tQ,{className:"w-5 h-5 text-gray-500"}):(0,a.jsx)(tX,{className:"w-5 h-5 text-gray-500"})]}),d[8]=v,d[9]=u):u=d[9],d[10]!==r||d[11]!==u?(c=(0,a.jsxs)("button",{onClick:r,className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 rounded-t-lg transition-colors",children:[i,u]}),d[10]=r,d[11]=u,d[12]=c):c=d[12],d[13]!==N||d[14]!==v||d[15]!==w||d[16]!==g||d[17]!==b||d[18]!==m||d[19]!==p||d[20]!==y?(f=!v&&(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-4 pt-0",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"View Mode"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["point","contour"].map(e=>(0,a.jsx)("button",{onClick:()=>b(e),className:`py-1.5 px-2 text-xs font-medium rounded border transition-all cursor-pointer ${y===e?"bg-purple-600 border-purple-600 text-white":"bg-white border-gray-200 text-gray-600 hover:border-purple-300 hover:bg-purple-50"}`,children:"point"===e?"Point":"Contour"},e))})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 border-t border-gray-200 pt-3",children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Metrics"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["rssi","cqi","rsrp","rsrq","snr"].map(e=>(0,a.jsx)("button",{onClick:()=>g(e),className:`py-1.5 px-2 text-xs font-medium rounded border transition-all cursor-pointer ${p===e?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-200 text-gray-600 hover:border-blue-300 hover:bg-blue-50"}`,children:e.toUpperCase()},e))})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-3",children:[(0,a.jsxs)("button",{onClick:()=>k(!w),className:"flex items-center justify-between w-full cursor-pointer",children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-700 cursor-pointer",children:"Scale & Offset"}),w?(0,a.jsx)(tX,{className:"w-4 h-4 text-gray-400"}):(0,a.jsx)(tQ,{className:"w-4 h-4 text-gray-400"})]}),w&&(0,a.jsx)("div",{className:"flex flex-col gap-3 mt-3",children:E.map(e=>{let{key:t,label:n,min:r,max:i,step:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs text-gray-600",children:n}),(0,a.jsx)("input",{type:"number",value:m[t],onChange:e=>N(t,parseFloat(e.target.value)||0),step:s,className:"w-20 text-xs text-right bg-gray-50 border border-gray-200 rounded px-1.5 py-0.5 text-gray-700"})]}),(0,a.jsx)("input",{type:"range",min:r,max:i,step:s,value:m[t],onChange:e=>N(t,parseFloat(e.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]},t)})})]})]}),d[13]=N,d[14]=v,d[15]=w,d[16]=g,d[17]=b,d[18]=m,d[19]=p,d[20]=y,d[21]=f):f=d[21],d[22]!==c||d[23]!==f?(h=(0,a.jsxs)("div",{className:"absolute top-4 left-4 z-10 flex flex-col bg-white/90 backdrop-blur-md rounded-lg shadow-lg border border-gray-200 w-72",children:[c,f]}),d[22]=c,d[23]=f,d[24]=h):h=d[24],h}function tJ(e){return e.stopPropagation()}function t0(e){let t,n,r,i,o,l,u=(0,s.c)(21),{selectedFeature:c}=e,f=tq[c];if(!f)return null;if(u[0]!==f.bands||u[1]!==f.name||u[2]!==f.unit){let e,s,o=[...f.bands].reverse();r="absolute top-4 right-4 z-10 bg-white/90 backdrop-blur-md p-4 rounded-lg border border-gray-200 shadow-sm min-w-[180px]",u[7]!==f.name?(e=(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900",children:f.name}),u[7]=f.name,u[8]=e):e=u[8],u[9]!==f.unit?(s=f.unit&&(0,a.jsxs)("span",{className:"text-[10px] text-gray-500",children:["(",f.unit,")"]}),u[9]=f.unit,u[10]=s):s=u[10],u[11]!==e||u[12]!==s?(i=(0,a.jsxs)("div",{className:"flex items-baseline gap-2 mb-3",children:[e,s]}),u[11]=e,u[12]=s,u[13]=i):i=u[13],t="flex flex-col gap-1.5",n=o.map(t1),u[0]=f.bands,u[1]=f.name,u[2]=f.unit,u[3]=t,u[4]=n,u[5]=r,u[6]=i}else t=u[3],n=u[4],r=u[5],i=u[6];return u[14]!==t||u[15]!==n?(o=(0,a.jsx)("div",{className:t,children:n}),u[14]=t,u[15]=n,u[16]=o):o=u[16],u[17]!==r||u[18]!==i||u[19]!==o?(l=(0,a.jsxs)("div",{className:r,children:[i,o]}),u[17]=r,u[18]=i,u[19]=o,u[20]=l):l=u[20],l}function t1(e){return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-sm border border-gray-300 shrink-0",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-xs font-medium text-gray-700 w-10",children:e.label}),(0,a.jsxs)("span",{className:"text-[10px] text-gray-500 tabular-nums",children:[e.min," ~ ",e.max]})]},e.label)}function t2(e){let t,n,r,i,o,l,u,c,f,h,d,p,g,m,x=(0,s.c)(41),{selectedFeature:y}=e,b=tq[y];if(!b)return null;let[v,_,w]=b.bands,k=v.min,N=w.max,E=N-k;x[0]!==k||x[1]!==E?(t=e=>(1-(e-k)/E)*100,x[0]=k,x[1]=E,x[2]=t):t=x[2];let M=t,S=w.label,R=M(N);x[3]!==w.label||x[4]!==N||x[5]!==R?(n={value:N,label:S,top:R},x[3]=w.label,x[4]=N,x[5]=R,x[6]=n):n=x[6];let j=_.max,C=_.label,$=M(_.max);x[7]!==$||x[8]!==_.label||x[9]!==_.max?(r={value:j,label:C,top:$},x[7]=$,x[8]=_.label,x[9]=_.max,x[10]=r):r=x[10];let A=v.max,O=v.label,F=M(v.max);x[11]!==v.label||x[12]!==v.max||x[13]!==F?(i={value:A,label:O,top:F},x[11]=v.label,x[12]=v.max,x[13]=F,x[14]=i):i=x[14];let T=M(k);x[15]!==k||x[16]!==T?(o={value:k,label:"",top:T},x[15]=k,x[16]=T,x[17]=o):o=x[17],x[18]!==i||x[19]!==o||x[20]!==n||x[21]!==r?(l=[n,r,i,o],x[18]=i,x[19]=o,x[20]=n,x[21]=r,x[22]=l):l=x[22];let I=l;x[23]!==b.name?(u=(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900",children:b.name}),x[23]=b.name,x[24]=u):u=x[24],x[25]!==b.unit?(c=b.unit&&(0,a.jsxs)("span",{className:"text-[10px] text-gray-500",children:["(",b.unit,")"]}),x[25]=b.unit,x[26]=c):c=x[26],x[27]!==u||x[28]!==c?(f=(0,a.jsxs)("div",{className:"flex items-baseline gap-2 mb-3",children:[u,c]}),x[27]=u,x[28]=c,x[29]=f):f=x[29];let L=`linear-gradient(to bottom, ${tz} ${M(N)}%, ${tP} ${M(_.max)}%, ${tD} ${M(k)}%)`;return x[30]!==L?(h=(0,a.jsx)("div",{className:"w-4 rounded-sm border border-gray-300 shrink-0",style:{height:160,background:L}}),x[30]=L,x[31]=h):h=x[31],x[32]===Symbol.for("react.memo_cache_sentinel")?(d={height:160},x[32]=d):d=x[32],x[33]!==I?(p=(0,a.jsx)("div",{className:"relative",style:d,children:I.map(t5)}),x[33]=I,x[34]=p):p=x[34],x[35]!==h||x[36]!==p?(g=(0,a.jsxs)("div",{className:"flex gap-2",children:[h,p]}),x[35]=h,x[36]=p,x[37]=g):g=x[37],x[38]!==f||x[39]!==g?(m=(0,a.jsxs)("div",{className:"absolute top-4 right-4 z-10 bg-white/90 backdrop-blur-md p-4 rounded-lg border border-gray-200 shadow-sm min-w-[180px]",children:[f,g]}),x[38]=f,x[39]=g,x[40]=m):m=x[40],m}function t5(e){return(0,a.jsxs)("div",{className:"absolute flex items-center gap-1.5",style:{top:`${e.top}%`,transform:"translateY(-50%)"},children:[(0,a.jsx)("span",{className:"text-[10px] text-gray-600 tabular-nums",children:e.value}),e.label&&(0,a.jsx)("span",{className:"text-[9px] text-gray-400",children:e.label})]},e.value)}function t4(e){return`/spider-gnn-viz${e}`}e.i(47167);var t3=e.i(59935);function t6(){let e,t,n,r,i,l,u,c=(0,s.c)(18);c[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],c[0]=e):e=c[0];let[f,h]=(0,o.useState)(e),[d,p]=(0,o.useState)("rssi"),[g,m]=(0,o.useState)(!0);c[1]===Symbol.for("react.memo_cache_sentinel")?(t={scale:1,offsetX:0,offsetY:0},c[1]=t):t=c[1];let[x,y]=(0,o.useState)(t),[b,v]=(0,o.useState)("point");return c[2]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{(async()=>{try{let e=await fetch(t4("/data/simulated.csv")),t=await e.text();t3.default.parse(t,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,complete:e=>{let t=e.data.map(t8);h(t),y(function(e){if(0===e.length)return{scale:1,offsetX:0,offsetY:0};let t=1/0,n=-1/0,r=1/0,i=-1/0;for(let a of e)a.x<t&&(t=a.x),a.x>n&&(n=a.x),a.y<r&&(r=a.y),a.y>i&&(i=a.y);let a=n-t,s=i-r;if(0===a||0===s)return{scale:1,offsetX:0,offsetY:0};let o=Math.min(675/a,400/s),l=(t+n)/2,u=(r+i)/2;return{scale:parseFloat(o.toFixed(4)),offsetX:parseFloat((482.5-l*o).toFixed(1)),offsetY:parseFloat((295-u*o).toFixed(1))}}(t)),m(!1)},error:e=>{console.error("Error parsing CSV:",e),m(!1)}})}catch(e){console.error("Error fetching CSV:",e),m(!1)}})()},r=[],c[2]=n,c[3]=r):(n=c[2],r=c[3]),(0,o.useEffect)(n,r),c[4]!==g||c[5]!==x||c[6]!==d||c[7]!==b?(i=!g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tZ,{selectedFeature:d,onSelectFeature:p,scaleConfig:x,onScaleConfigChange:y,viewMode:b,onViewModeChange:v}),"point"===b?(0,a.jsx)(t0,{selectedFeature:d}):(0,a.jsx)(t2,{selectedFeature:d})]}),c[4]=g,c[5]=x,c[6]=d,c[7]=b,c[8]=i):i=c[8],c[9]!==g||c[10]!==f||c[11]!==x||c[12]!==d||c[13]!==b?(l=(0,a.jsx)("div",{className:"relative shadow-2xl rounded-lg overflow-hidden bg-white",children:g?(0,a.jsxs)("div",{className:"w-[800px] h-[600px] flex flex-col items-center justify-center text-gray-500 gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("p",{className:"font-medium animate-pulse",children:"Loading Data..."})]}):(0,a.jsx)(tU,{imageSrc:t4("/assets/floorplan.png"),points:f,selectedFeature:d,scaleConfig:x,viewMode:b})}),c[9]=g,c[10]=f,c[11]=x,c[12]=d,c[13]=b,c[14]=l):l=c[14],c[15]!==i||c[16]!==l?(u=(0,a.jsxs)("div",{className:"relative w-full h-screen bg-gray-50 flex items-center justify-center p-8",children:[i,l]}),c[15]=i,c[16]=l,c[17]=u):u=c[17],u}function t8(e){return{x:e.X,y:e.Y,rssi_int:e.RSSI_int,rsrp_int:e.RSRP_int,rsrq_int:e.RSRQ_int,snr_int:e.SNR_int,cqi_int:e.CQI_int}}e.s(["FloorplanContainer",()=>t6],16021)}]);